# EKS Cluster Configuration
cluster_name    = "my-eks-cluster"
cluster_version = "1.29"
environment     = "dev"

# IAM Roles
cluster_role_arn    = "arn:aws:iam::123456789012:role/EksClusterRole"  # Replace with actual role ARN
node_group_role_arn = "arn:aws:iam::123456789012:role/EksNodeGroupRole"  # Replace with actual role ARN

# Node Group Configuration
node_group_instance_types = ["t3.small"]
node_group_desired_size   = 1
node_group_max_size       = 2
node_group_min_size       = 1

# Cost Optimization Features
enable_all_logs           = false
use_spot_instances        = true
capacity_type            = "SPOT"
enable_cluster_autoscaler = true

# Node Group Labels and Taints
node_group_labels = {
  "environment" = "dev"
  "node-type"   = "spot"
}

node_group_taints = [
  {
    key    = "spot"
    value  = "true"
    effect = "NO_SCHEDULE"
  }
]

# Fargate Configuration
enable_fargate = true
fargate_profiles = {
  "default" = {
    subnet_ids = ["subnet-xxxxx", "subnet-yyyyy"]
    selectors = [
      {
        namespace = "default"
        labels    = { "fargate" = "true" }
      }
    ]
  }
}

# Cluster Schedule
schedule_cluster_shutdown = true
cluster_shutdown_schedule = "0 18 ? * MON-FRI *"  # Shutdown at 6 PM on weekdays
cluster_startup_schedule  = "0 8 ? * MON-FRI *"   # Start at 8 AM on weekdays
